{{!--
{{#if post}}
  <section class="post" data-post-id="{{post.id}}">
    <header class="post-header">
      <h2>{{post.title}}</h2>
      {{#if (and logged_in (eq post.user.id loggedInUser))}}
        <button id="edit-post-button">Edit</button>
        <button id="delete-post-button">Delete</button>
      {{/if}}
    </header>
    <div class="post-content">
      <p class="author">{{post.user.username}}</p>
      <p class="date">Published: {{post.createdAt}}</p>


      {{#if post.comments}}
        <h3>Comments:</h3>
        <ul class="comments-list">
          {{#each post.comments as |comment|}}
            <li>{{comment.content}}</li>
          {{/each}}
        </ul>
      {{/if}}

      {{#if logged_in}}
        <button id="add-comment-button">Add Comment</button>
        <div class="add-comment-form-container" style="display: none;">
          <form class="add-comment-form">
            <div class="form-group">
              <label for "comment-content">Comment:</label>
              <textarea
                class="form-input form-textarea"
                id="comment-content"
                name="content"
              ></textarea>
            </div>
            <div class="form-group">
              <button class="btn btn-primary" type="submit">Post Comment</button>
            </div>
          </form>
        </div>
      {{/if}}
    </div>
  </section>
{{/if}}
--}}

{{#if post}}
  <section class="post" data-post-id="{{post.id}}">
    <header class="post-header">
      <h2>{{post.title}}</h2>
      {{#if (and logged_in (eq post.user.id loggedInUser))}}
        <a href="/api/posts/edit-post/{{post.id}}" class="edit-post-button">Edit</a>
        <button id="delete-post-button">Delete</button>
      {{/if}}
    </header>
    <div class="post-content">

      <p class="author">{{post.user.username}}</p>
      <p class="date">Published: {{post.createdAt}}</p>
      <p class="content">{{post.content}}</p>
      {{#if post.comments}}
        <h3>Comments:</h3>
        <ul class="comments-list">
          {{#each post.comments as |comment|}}
            <li>{{comment.content}}</li>
          {{/each}}
        </ul>
      {{/if}}

      {{#if logged_in}}
        <button id="add-comment-button">Add Comment</button>
        <div class="add-comment-form-container" style="display: none;">
          <form class="add-comment-form">
            <div class="form-group">
              <label for "comment-content">Comment:</label>
              <textarea
                class="form-input form-textarea"
                id="comment-content"
                name="content"
              ></textarea>
            </div>
            <div class="form-group">
              <button class="btn btn-primary" type="submit">Post Comment</button>
            </div>
          </form>
        </div>
      {{/if}}
    </div>
  </section>
{{/if}}


<script src="/js/add-comments.js"></script>